<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Orders</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h2>Your Orders</h2>
  <div id="orders-box"></div>

  <script>
    // âœ… Get user info
    let user = null;
    try {
      user = JSON.parse(localStorage.getItem("user"));
    } catch (err) {
      user = null;
    }

    const orderKey = user ? "orders_" + user.username : "guest_orders";
    const orders = JSON.parse(localStorage.getItem(orderKey)) || [];

    const box = document.getElementById("orders-box");

    if (orders.length === 0) {
      box.innerHTML = "<p>No orders found.</p>";
    } else {
      box.innerHTML = "<h3>Your Orders:</h3>";
      orders.forEach(order => {
        const imagePath = order.image ? `${order.image}` : "https://via.placeholder.com/150";
        box.innerHTML += `
          <div style="border:1px solid #ccc; margin:10px; padding:10px; background:#fff;">
            <img src="${imagePath}" alt="${order.product}" style="width:100%; height:auto; display:block; margin-bottom:10px;">
            <b>${order.product}</b><br>
            Price: ${order.price}<br>
            Ordered on: ${order.time}<br>
            
          </div>
        `;
      });
    }
  </script>

</body>
</html>